<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Рейтинг</title>

    <!-- Bootstrap core CSS -->
   <!-- <link href="mpicore/bootstrap-3/css/bootstrap.min.css" rel="stylesheet">-->
    {% load staticfiles %}

    <link href="{{STATIC_URL}}bootstrap-3/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{STATIC_URL}}sticky-footer-navbar.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

   <script src="{{STATIC_URL}}bootstrap-3/js/ie-emulation-modes-warning.js"></script>

   <script src = 'http://code.jquery.com/jquery-latest.min.js'></script>


    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

      <script>
        var b1 = document.getElementById("option1");
        var b2 = document.getElementById("option2"); 
        function change(c) {

          if (c == 1) {
            window.location.href = "http://127.0.0.1:8000/tab/kaf";
            ///window.open("http://127.0.0.1:8000/tab/kaf","_self")
          } else if (c == 2) {
            window.location.href = "http://127.0.0.1:8000/tab/fak";            
            //window.open("http://127.0.0.1:8000/tab/fak","_self")
          } else {
			window.location.href = "http://127.0.0.1:8000/tab/aff";            
		  }
        }
      </script>

        </div>
        <div class="collapse navbar-collapse">
			<div class="btn-group" data-toggle="buttons" style="top:8px;">
				<label class="btn btn-primary myButton" id="option1">
				  <input type="radio" name="options" onclick="change(1)">КАФЕДРЫ
				</label>  
				<label class="btn btn-primary myButton" id="option2" >
				  <input type="radio" name="options" onclick="change(2)"> ФАКУЛЬТЕТЫ
				</label>
				<label class="btn btn-primary myButton" id="option3" >
				  <input type="radio" name="options" onclick="change(3)"> АФФИЛИАЦИИ
				</label>
			</div>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <!-- Begin page content -->
    <div class="container">
      <div class="page-header">
        <h1>Рейтинг по {{ var1 }}</h1>
      </div>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>
              <h1>{{ var2 }}</h1>
          </th>
          <th>
              <h1>РЕЙТИНГ</h1>
          </th>
        </tr>
      </thead>
      <tbody>
        {% for row in rows %}
          <tr>
            {% for data in row %}
              <td>{{data.name}}</td>
                <td>
                  <div class="progress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{data.percent}}%;">
                    {{data.rank}}
                    </div>
                  </div>
                </td>
              {% endfor %}
            </tr>
        {% endfor %}
      </tbody>

    </table>

    </div>

    <div class="footer">
      <div class="container">
        <p class="text-muted">Place sticky footer content here.</p>
      </div>
    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="bootstrap-3/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>

    <script>

      function prepareActiveButton(){
        if (window.location.href.indexOf('kaf') > -1){
          $('#option1').addClass('active');
        } else if (window.location.href.indexOf('fak') > -1){
          $('#option2').addClass('active');
        } else {
		  $('#option3').addClass('active');
		}
      }

      $(function(){
          prepareActiveButton();
      });
    </script>
</body>
</html>


<!--rows = [data[x:x + 2] for x in range(0, len(data), 4)]

<table>
{% for row in rows %}
    <tr>
  {% for data in row %}
      <td>{{ data.name }}</td>
  {% endfor %}
    </tr>
{% endfor %}
</table>-->